@model IEnumerable<nqostatsweb.Models.MatchesViewModels.MatchViewModel>

@{
    ViewData["Title"] = "All Matches";
}

<h2>All Matches</h2>
@section scripts 
{
    <script type="text/javascript">
        function cellsrenderer(row, column, value)
        {
            return "<div style=\"text-align: center; margin-top: 5px;\"><a style=\"color:black; text-decoration:none\" href=Matches/Details/" + value + ">Details</a></div>"
        }
    </script>

    <script type="text/javascript">
        function eventHandler(event)
        {
            var rowData = $('#grid').jqxGrid('getrowdata', event.args.rowindex);
            var value = rowData.Id
            window.location = '/Matches/Details/?id=' + value;
	    }
    </script>
}

<jqx-grid id="grid" alt-rows="true" on-rowclick="eventHandler()" theme="@ViewData["Theme"]" sortable="true" show-filter-row="true" filterable="true" auto-height="true" width="750" source="Model">
    <jqx-grid-columns>
        <jqx-grid-column hidden="true" datafield="Id" cells-renderer="cellsrenderer()" width="100"  text="Details" ></jqx-grid-column>
        @*<jqx-grid-column datafield="Date" filter-type="string" filter-condition="contains" cells-format="ddd M/d/yyyy 'at' H:mm:ss CST" width="300">Match Date</jqx-grid-column>*@
        <jqx-grid-column datafield="Date" width="300">Match Date</jqx-grid-column>
        <jqx-grid-column datafield="MapName" width="150">Map Name</jqx-grid-column>
        <jqx-grid-column datafield="MatchType" width="300">Match Type</jqx-grid-column>
    </jqx-grid-columns>
</jqx-grid>

